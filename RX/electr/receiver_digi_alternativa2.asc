Version 4
SHEET 1 2156 884
WIRE 1104 -64 1104 -96
WIRE 1216 -64 1216 -96
WIRE 1312 -64 1312 -96
WIRE 592 -16 560 -16
WIRE 704 -16 672 -16
WIRE 1312 32 1312 16
WIRE 1424 32 1312 32
WIRE 1312 48 1312 32
WIRE 624 80 624 64
WIRE 560 96 560 -16
WIRE 592 96 560 96
WIRE 1216 96 1216 16
WIRE 1248 96 1216 96
WIRE 704 112 704 -16
WIRE 704 112 656 112
WIRE 768 112 704 112
WIRE 864 112 832 112
WIRE 944 112 864 112
WIRE 976 112 944 112
WIRE 1104 112 1104 16
WIRE 1104 112 1056 112
WIRE 1216 112 1216 96
WIRE 592 128 480 128
WIRE 560 144 560 96
WIRE 864 144 864 112
WIRE 944 144 944 112
WIRE 1104 160 1104 112
WIRE 1152 160 1104 160
WIRE 624 176 624 144
WIRE 1104 192 1104 160
WIRE 560 256 560 224
WIRE 864 304 864 208
WIRE 944 304 944 224
WIRE 1104 304 1104 272
WIRE 1216 304 1216 208
WIRE 1312 304 1312 144
WIRE -256 384 -320 384
WIRE -96 400 -208 400
WIRE -16 400 -96 400
WIRE 64 400 -16 400
WIRE -320 416 -320 384
WIRE -208 416 -208 400
WIRE 1568 416 1568 368
WIRE 1664 416 1568 416
WIRE -256 432 -256 384
WIRE 1568 480 1568 416
WIRE -16 496 -16 400
WIRE 1664 496 1664 416
WIRE -96 512 -96 400
WIRE -320 528 -320 496
WIRE -288 528 -320 528
WIRE -256 528 -256 480
WIRE -256 528 -288 528
WIRE -208 528 -208 496
WIRE -288 544 -288 528
WIRE 1568 640 1568 560
WIRE 1664 640 1664 560
WIRE -208 656 -208 608
WIRE -96 656 -96 576
WIRE -16 656 -16 576
FLAG 1568 640 0
FLAG 64 400 Mic
IOPIN 64 400 Out
FLAG 1568 368 +V
FLAG 1664 640 0
FLAG -208 656 0
FLAG -288 544 0
FLAG -16 656 0
FLAG -96 656 0
FLAG 480 128 Mic
IOPIN 480 128 In
FLAG 624 64 +V
FLAG 624 176 0
FLAG 864 304 0
FLAG 1424 32 Out
IOPIN 1424 32 Out
FLAG 560 256 0
FLAG 944 304 0
FLAG 1216 304 0
FLAG 1312 304 0
FLAG 1216 -96 +V
FLAG 1312 -96 +V
FLAG 1104 -96 +V
FLAG 1104 304 0
SYMBOL Misc\\signal -208 512 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 132 Left 2
WINDOW 0 -77 79 Left 2
SYMATTR SpiceLine Rser=2000
SYMATTR InstName V2
SYMATTR Value SINE(0 150m 40K)
SYMBOL Misc\\battery 1568 464 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 132 Left 2
SYMATTR SpiceLine Rser=2
SYMATTR InstName V1
SYMATTR Value 5V
SYMBOL Misc\\signal -320 400 R0
WINDOW 0 -48 -6 Left 2
WINDOW 3 -50 -41 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 24 132 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 100n 1n 1n 0.5m 1m)
SYMBOL sw -208 512 M180
WINDOW 3 19 -11 Left 2
SYMATTR InstName S1
SYMBOL cap 1648 496 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL cap -112 512 R0
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMBOL ind -32 480 R0
SYMATTR InstName L1
SYMATTR Value 158µ
SYMATTR SpiceLine Rser=3
SYMBOL Opamps\\LM324-national 624 48 R0
SYMATTR InstName U1
SYMBOL res 576 240 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 688 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 3Meg
SYMBOL cap 848 144 R0
SYMATTR InstName C2
SYMATTR Value 5n
SYMBOL diode 768 128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 928 128 R0
SYMATTR InstName R3
SYMATTR Value 47k
SYMBOL res 1072 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 22k
SYMBOL npn 1152 112 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL npn 1248 48 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 1200 -80 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 1296 -80 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 1088 -80 R0
SYMATTR InstName R5
SYMATTR Value 220k
SYMBOL res 1088 176 R0
SYMATTR InstName R6
SYMATTR Value 51k
TEXT -224 72 Left 2 !.tran 0 5m 1m
TEXT -368 328 Left 2 !.model SW SW(Ron=1 Roff=1Meg Vt=0.5)
TEXT -224 152 Left 2 ;.options gmin=1e-10\n.options abstol=1e-10\n.options reltol=0.003\n.options cshunt=1e-15
