Version 4
SHEET 1 2156 884
WIRE 256 -32 208 -32
WIRE 384 -32 336 -32
WIRE 944 -32 944 -80
WIRE 1168 -32 1168 -80
WIRE 1296 -32 1296 -80
WIRE 672 -16 624 -16
WIRE 784 -16 752 -16
WIRE 1488 16 1488 -80
WIRE 272 64 272 48
WIRE 16 80 -16 80
WIRE 112 80 80 80
WIRE 208 80 208 -32
WIRE 208 80 192 80
WIRE 240 80 208 80
WIRE 688 80 688 64
WIRE 384 96 384 -32
WIRE 384 96 304 96
WIRE 432 96 384 96
WIRE 512 96 496 96
WIRE 624 96 624 -16
WIRE 624 96 592 96
WIRE 656 96 624 96
WIRE 1056 96 1056 80
WIRE 240 112 208 112
WIRE 784 112 784 -16
WIRE 784 112 720 112
WIRE 816 112 784 112
WIRE 1024 112 896 112
WIRE 1376 112 1376 96
WIRE 656 128 624 128
WIRE 1168 128 1168 48
WIRE 1168 128 1088 128
WIRE 1344 128 1168 128
WIRE 1024 144 992 144
WIRE 1488 144 1488 96
WIRE 1488 144 1408 144
WIRE 208 160 208 112
WIRE 208 160 176 160
WIRE 272 160 272 128
WIRE 1296 160 1296 48
WIRE 1344 160 1296 160
WIRE 624 176 624 128
WIRE 624 176 592 176
WIRE 688 176 688 144
WIRE 1056 176 1056 160
WIRE 944 192 944 48
WIRE 992 192 992 144
WIRE 992 192 944 192
WIRE 1296 208 1296 160
WIRE 1376 208 1376 176
WIRE 992 240 992 192
WIRE 1024 240 992 240
WIRE 1168 240 1168 128
WIRE 1168 240 1104 240
WIRE 944 256 944 192
WIRE 1168 288 1168 240
WIRE 1296 336 1296 288
WIRE 48 368 -16 368
WIRE 160 384 96 384
WIRE 208 384 160 384
WIRE 288 384 208 384
WIRE 368 384 288 384
WIRE -16 400 -16 368
WIRE 96 400 96 384
WIRE 608 400 608 352
WIRE 704 400 608 400
WIRE 784 400 704 400
WIRE 944 400 944 336
WIRE 1168 400 1168 352
WIRE 48 416 48 368
WIRE 160 416 160 384
WIRE 784 416 784 400
WIRE 608 464 608 400
WIRE 288 480 288 384
WIRE 704 480 704 400
WIRE 96 496 96 480
WIRE 160 496 160 480
WIRE 160 496 96 496
WIRE 208 496 208 384
WIRE -16 512 -16 480
WIRE 16 512 -16 512
WIRE 48 512 48 464
WIRE 48 512 16 512
WIRE 96 512 96 496
WIRE 784 512 784 496
WIRE 880 512 784 512
WIRE 960 512 880 512
WIRE 16 528 16 512
WIRE 784 528 784 512
WIRE 880 544 880 512
WIRE 608 624 608 544
WIRE 704 624 704 544
WIRE 784 624 784 608
WIRE 880 624 880 608
WIRE 96 640 96 592
WIRE 208 640 208 560
WIRE 288 640 288 560
FLAG 608 624 0
FLAG 368 384 Mic
IOPIN 368 384 Out
FLAG 608 352 +V
FLAG 704 624 0
FLAG 784 624 0
FLAG 960 512 Vref
IOPIN 960 512 Out
FLAG 880 624 0
FLAG 96 640 0
FLAG 16 528 0
FLAG 288 640 0
FLAG 208 640 0
FLAG -16 80 Mic
IOPIN -16 80 In
FLAG 176 160 Vref
IOPIN 176 160 In
FLAG 272 48 +V
FLAG 272 160 0
FLAG 592 176 Vref
IOPIN 592 176 In
FLAG 688 64 +V
FLAG 688 176 0
FLAG 1056 80 +V
FLAG 1056 176 0
FLAG 944 400 0
FLAG 944 -80 +V
FLAG 1168 400 0
FLAG 1376 96 +V
FLAG 1376 208 0
FLAG 1296 336 0
FLAG 1296 -80 +V
FLAG 1488 -80 +V
FLAG 1168 -80 +V
SYMBOL Misc\\signal 96 496 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 132 Left 2
WINDOW 0 -77 79 Left 2
SYMATTR SpiceLine Rser=2000
SYMATTR InstName V2
SYMATTR Value SINE(0 30m 40K)
SYMBOL res 768 512 R0
SYMATTR InstName R2
SYMATTR Value 20k
SYMBOL res 768 400 R0
SYMATTR InstName R1
SYMATTR Value 20k
SYMBOL Misc\\battery 608 448 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 132 Left 2
SYMATTR SpiceLine Rser=2
SYMATTR InstName V1
SYMATTR Value 5V
SYMBOL Misc\\signal -16 384 R0
WINDOW 0 -48 -6 Left 2
WINDOW 3 -50 -48 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 24 132 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 100n 1n 1n 0.5m 1m)
SYMBOL sw 96 496 M180
WINDOW 3 19 -11 Left 2
SYMATTR InstName S1
SYMBOL cap 688 480 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL cap 864 544 R0
SYMATTR InstName C2
SYMATTR Value 2.2µ
SYMBOL cap 192 496 R0
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMBOL ind 272 464 R0
SYMATTR InstName L1
SYMATTR Value 158µ
SYMATTR SpiceLine Rser=3
SYMBOL Opamps\\LM324-national 272 32 R0
SYMATTR InstName U1
SYMBOL res 208 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap 80 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 2.2µ
SYMBOL res 352 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 220k
SYMBOL Opamps\\LM324-national 688 48 R0
SYMATTR InstName U2
SYMBOL res 608 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL cap 496 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 2.2µ
SYMBOL res 768 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL Comparators\\LM339 1056 64 R0
SYMATTR InstName U3
SYMBOL cap 1152 288 R0
SYMATTR InstName C6
SYMATTR Value 1n
SYMBOL res 1152 -48 R0
SYMATTR InstName R10
SYMATTR Value 51k
SYMBOL res 1280 -48 R0
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL res 1280 192 R0
SYMATTR InstName R12
SYMATTR Value 68k
SYMBOL Comparators\\LM339 1376 80 R0
SYMATTR InstName U4
SYMBOL res 1472 0 R0
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 1120 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1Meg
SYMBOL res 912 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 20k
SYMBOL cap 144 416 R0
SYMATTR InstName C7
SYMATTR Value 10p
SYMBOL res 928 -48 R0
SYMATTR InstName R7
SYMATTR Value 68k
SYMBOL res 928 240 R0
SYMATTR InstName R8
SYMATTR Value 100k
TEXT 1248 504 Left 2 !.tran 0 5m 1m
TEXT -56 304 Left 2 !.model SW SW(Ron=1 Roff=1Meg Vt=0.5)
TEXT 1208 560 Left 2 ;.options gmin=1e-10\n.options abstol=1e-10\n.options reltol=0.003\n.options cshunt=1e-15
